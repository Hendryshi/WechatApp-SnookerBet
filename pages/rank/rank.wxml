<wxs src="./rank.wxs" module="rank" />
<view>
	<view class="top-title" />
	<image class="top-bg" src="/images/rank.jpg" mode="aspectFill" />
</view>

<view class='header'>
	<van-tabs active="{{active}}" swipeable bind:change="onChange">
		<van-tab title="玩家排名" />
		<van-tab title="统计图" />
	</van-tabs>
</view>

<van-skeleton
 title
 row="20"
 row-width="90%"
 loading="{{showSkeleton}}"
>
	<view wx:if="{{active===0}}" class="cellBg release">
		<van-cell-group inset>
			<van-cell title-width="300rpx">
				<view slot="title">
					<view class="van-cell-text">排名</view>
				</view>
				<view class="rankul">
					<view class="rankli">比分</view>
					<view class="rankli">局数</view>
					<view class="rankli">积分</view>
				</view>
			</van-cell>
			<van-cell title-width="300rpx" wx:for="{{summary}}" wx:key="idGamer">
				<view slot="title">
					<view class="van-cell-text">
						<van-icon
						 size="40rpx"
						 color="{{rank.awardColor(index)}}"
						 name="award"
						 style="margin-right: 5rpx"
						/>
						{{item.gamerName}}
					</view>
				</view>
				<view class="rankul">
					<view class="rankli">{{item.nbrWinnerCorrect}}/{{item.totalPredict}}</view>
					<view class="rankli">{{item.nbrScoreCorrect}}/{{item.totalPredict}}</view>
					<view class="rankli">{{item.totalPoint}}</view>
				</view>
			</van-cell>
		</van-cell-group>
	</view>

	<view wx:else class="cellBg release">
		<canvas
		 canvas-id="canvasColumn"
		 id="canvasColumn"
		 type="2d"
		 bindtouchstart="touchLineA"
		 bindtouchmove="moveLineA"
		 bindtouchend="touchEndLineA"
		 class="charts-box"
		/>
	</view>
</van-skeleton>

